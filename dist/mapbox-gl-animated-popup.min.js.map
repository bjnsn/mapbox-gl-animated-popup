{"version":3,"file":"mapbox-gl-animated-popup.min.js","sources":["../src/index.js"],"sourcesContent":["import {Popup, version as mapboxVersion} from 'mapbox-gl';\n\nconst effects = {\n    linear(t) {\n        return t;\n    },\n\n    easeInQuad(t) {\n        return t * t;\n    },\n\n    easeOutQuad(t) {\n        return -t * (t - 2);\n    },\n\n    easeInOutQuad(t) {\n        if ((t /= 0.5) < 1) {\n            return 0.5 * t * t;\n        }\n        return -0.5 * ((--t) * (t - 2) - 1);\n    },\n\n    easeInCubic(t) {\n        return t * t * t;\n    },\n\n    easeOutCubic(t) {\n        return (t -= 1) * t * t + 1;\n    },\n\n    easeInOutCubic(t) {\n        if ((t /= 0.5) < 1) {\n            return 0.5 * t * t * t;\n        }\n        return 0.5 * ((t -= 2) * t * t + 2);\n    },\n\n    easeInQuart(t) {\n        return t * t * t * t;\n    },\n\n    easeOutQuart(t) {\n        return -((t -= 1) * t * t * t - 1);\n    },\n\n    easeInOutQuart(t) {\n        if ((t /= 0.5) < 1) {\n            return 0.5 * t * t * t * t;\n        }\n        return -0.5 * ((t -= 2) * t * t * t - 2);\n    },\n\n    easeInQuint(t) {\n        return t * t * t * t * t;\n    },\n\n    easeOutQuint(t) {\n        return (t -= 1) * t * t * t * t + 1;\n    },\n\n    easeInOutQuint(t) {\n        if ((t /= 0.5) < 1) {\n            return 0.5 * t * t * t * t * t;\n        }\n        return 0.5 * ((t -= 2) * t * t * t * t + 2);\n    },\n\n    easeInSine(t) {\n        return -Math.cos(t * (Math.PI / 2)) + 1;\n    },\n\n    easeOutSine(t) {\n        return Math.sin(t * (Math.PI / 2));\n    },\n\n    easeInOutSine(t) {\n        return -0.5 * (Math.cos(Math.PI * t) - 1);\n    },\n\n    easeInExpo(t) {\n        return (t === 0) ? 0 : Math.pow(2, 10 * (t - 1));\n    },\n\n    easeOutExpo(t) {\n        return (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1;\n    },\n\n    easeInOutExpo(t) {\n        if (t === 0) {\n            return 0;\n        }\n        if (t === 1) {\n            return 1;\n        }\n        if ((t /= 0.5) < 1) {\n            return 0.5 * Math.pow(2, 10 * (t - 1));\n        }\n        return 0.5 * (-Math.pow(2, -10 * --t) + 2);\n    },\n\n    easeInCirc(t) {\n        if (t >= 1) {\n            return t;\n        }\n        return -(Math.sqrt(1 - t * t) - 1);\n    },\n\n    easeOutCirc(t) {\n        return Math.sqrt(1 - (t -= 1) * t);\n    },\n\n    easeInOutCirc(t) {\n        if ((t /= 0.5) < 1) {\n            return -0.5 * (Math.sqrt(1 - t * t) - 1);\n        }\n        return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n    },\n\n    easeInElastic(t) {\n        let s = 1.70158;\n        let p = 0;\n        let a = 1;\n        if (t === 0) {\n            return 0;\n        }\n        if (t === 1) {\n            return 1;\n        }\n        if (!p) {\n            p = 0.3;\n        }\n        if (a < 1) {\n            a = 1;\n            s = p / 4;\n        } else {\n            s = p / (2 * Math.PI) * Math.asin(1 / a);\n        }\n        return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\n    },\n\n    easeOutElastic(t) {\n        let s = 1.70158;\n        let p = 0;\n        let a = 1;\n        if (t === 0) {\n            return 0;\n        }\n        if (t === 1) {\n            return 1;\n        }\n        if (!p) {\n            p = 0.3;\n        }\n        if (a < 1) {\n            a = 1;\n            s = p / 4;\n        } else {\n            s = p / (2 * Math.PI) * Math.asin(1 / a);\n        }\n        return a * Math.pow(2, -10 * t) * Math.sin((t - s) * (2 * Math.PI) / p) + 1;\n    },\n\n    easeInOutElastic(t) {\n        let s = 1.70158;\n        let p = 0;\n        let a = 1;\n        if (t === 0) {\n            return 0;\n        }\n        if ((t /= 0.5) === 2) {\n            return 1;\n        }\n        if (!p) {\n            p = 0.45;\n        }\n        if (a < 1) {\n            a = 1;\n            s = p / 4;\n        } else {\n            s = p / (2 * Math.PI) * Math.asin(1 / a);\n        }\n        if (t < 1) {\n            return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\n        }\n        return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    },\n    easeInBack(t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n\n    easeOutBack(t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n\n    easeInOutBack(t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n    },\n\n    easeInBounce(t) {\n        return 1 - effects.easeOutBounce(1 - t);\n    },\n\n    easeOutBounce(t) {\n        if (t < (1 / 2.75)) {\n            return 7.5625 * t * t;\n        }\n        if (t < (2 / 2.75)) {\n            return 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\n        }\n        if (t < (2.5 / 2.75)) {\n            return 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\n        }\n        return 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\n    },\n\n    easeInOutBounce(t) {\n        if (t < 0.5) {\n            return effects.easeInBounce(t * 2) * 0.5;\n        }\n        return effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5;\n    }\n};\n\nconst transforms = {\n    scale: (style, value, reverse) => {\n        style.transform = `scale(${reverse ? 1 - value : value})`;\n    },\n    opacity: (style, value, reverse) => {\n        style.opacity = reverse ? 1 - value : value;\n    }\n}\n\nfunction animate(style, ease, duration, reverse, complete, transform) {\n    let cancel;\n    const applyTransform = typeof transform === 'string' ? (transforms[transform] || transforms.scale) : transform;\n    const start = performance.now();\n\n    const repeat = () => {\n        if (cancel) {\n            return;\n        }\n\n        const elapsed = performance.now() - start;\n        const t = duration === 0 ? 1 : Math.min(elapsed / duration, 1);\n        const value = effects[ease](t);\n\n        applyTransform(style, value, reverse);\n\n        if (t < 1) {\n            requestAnimationFrame(repeat);\n        } else if (complete) {\n            complete();\n        }\n    };\n\n    repeat();\n\n    // Returns the cancel function\n    return () => {\n        cancel = true;\n    };\n}\n\nfunction extend(dest, ...sources) {\n    for (const src of sources) {\n        for (const k in src) {\n            if (typeof src[k] === 'object') {\n                if (!dest[k]) {\n                    dest[k] = {};\n                }\n                extend(dest[k], src[k]);\n            } else {\n                dest[k] = src[k];\n            }\n        }\n    }\n    return dest;\n}\n\nfunction getOriginFromClassList(classList) {\n    for (const className of classList.values()) {\n        const matches = className.match(/mapboxgl-popup-anchor-(.+)/);\n\n        if (matches) {\n            return matches[1].replace('-', ' ');\n        }\n    }\n}\n\nconst defaultOptions = {\n    openingAnimation: {\n        transform: 'scale',\n        duration: 1000,\n        easing: 'easeOutElastic'\n    },\n    closingAnimation: {\n        transform: 'scale',\n        duration: 300,\n        easing: 'easeInBack'\n    },\n};\n\n/**\n * An animated popup component.\n *\n * @param {Object} [options]\n * @param {Object} [options.openingAnimation] - Options controlling the opening\n *   animation.\n * @param {Object} [options.openingAnimation.duration=1000] - The animation's duration,\n *   measured in milliseconds.\n * @param {Object} [options.openingAnimation.easing] - The easing function name of\n *   the animation. See https://easings.net\n * @param {Object} [options.closingAnimation='easeOutElastic'] - Options controlling\n *   the closing animation.\n * @param {Object} [options.closingAnimation.duration=300] - The animation's duration,\n *   measured in milliseconds.\n * @param {Object} [options.closingAnimation.easing='easeInBack'] - The easing function\n *   name of the animation. See https://easings.net\n */\nexport default class AnimatedPopup extends Popup {\n\n    constructor(options) {\n        super(options);\n        extend(this.options, extend({}, defaultOptions, options));\n    }\n\n    addTo(...args) {\n        if (this._map) {\n            // Remove the popup synchronously\n            this._remove();\n        }\n\n        return super.addTo(...args);\n    }\n\n    _remove() {\n        const wrapperContainer = this._wrapperContainer;\n\n        if (this._cancelAnimation) {\n            this._cancelAnimation();\n        }\n\n        if (wrapperContainer && wrapperContainer.parentNode) {\n            wrapperContainer.parentNode.removeChild(wrapperContainer);\n            delete this._wrapperContainer;\n        }\n\n        super.remove();\n    }\n\n    remove() {\n        if (this._wrapperContainer) {\n            const {easing, duration, transform} = this.options.closingAnimation;\n\n            if (this._cancelAnimation) {\n                this._cancelAnimation();\n            }\n            this._cancelAnimation = animate(this._container.style, easing, duration, true, () => {\n                // When the animation completes, the popup is fully removed\n                this._remove();\n            }, transform);\n        } else {\n            super.remove();\n        }\n\n        return this;\n    }\n\n    _update(...args) {\n        const hasPosition = this._lngLat || this._trackPointer;\n\n        if (!this._map || !hasPosition || !this._content) {\n            return;\n        }\n\n        const _requestDomTask = this._map._requestDomTask;\n        let wrapperContainer = this._wrapperContainer;\n        let innerContainer = this._container;\n        let transform;\n\n        // If a container is assigned, create its wrapper container\n        Object.defineProperty(this, '_container', {\n            configurable: true,\n            get: () => innerContainer,\n            set: container => {\n                const {easing, duration, transform} = this.options.openingAnimation;\n\n                wrapperContainer = this._wrapperContainer = document.createElement('div');\n                wrapperContainer.className = 'mapboxgl-popup-wrapper';\n                wrapperContainer.style.position = 'absolute';\n                wrapperContainer.style.willChange = 'transform';\n                wrapperContainer.style.pointerEvents = 'none';\n\n                innerContainer = container;\n                innerContainer.style.position = 'relative';\n\n                this._map.getContainer().appendChild(wrapperContainer);\n                wrapperContainer.appendChild(innerContainer);\n\n                this._cancelAnimation = animate(innerContainer.style, easing, duration, false, null, transform);\n            }\n        });\n\n        if (mapboxVersion >= '2.3') {\n            // Extend _requestDomTask to handle transform changes\n            this._map._requestDomTask = fn => {\n                _requestDomTask.call(this._map, () => {\n                    transform = innerContainer ? innerContainer.style.transform : 'scale(0)';\n\n                    fn();\n\n                    // Apply transform to wrapper\n                    wrapperContainer.style.transform = innerContainer.style.transform;\n                    innerContainer.style.transform = transform;\n\n                    // Set the transform-origin property based on the anchor position\n                    innerContainer.style.transformOrigin = getOriginFromClassList(innerContainer.classList);\n                });\n            };\n        } else {\n            transform = innerContainer ? innerContainer.style.transform : 'scale(0)';\n        }\n\n        super._update(...args);\n\n        delete this._container;\n        this._container = innerContainer;\n\n        if (mapboxVersion >= '2.3') {\n            // Revert _requestDomTask\n            this._map._requestDomTask = _requestDomTask;\n        } else {\n            // Apply transform to wrapper\n            wrapperContainer.style.transform = innerContainer.style.transform;\n            innerContainer.style.transform = transform;\n\n            // Set the transform-origin property based on the anchor position\n            innerContainer.style.transformOrigin = getOriginFromClassList(innerContainer.classList);\n        }\n    }\n\n}\n"],"names":["effects","linear","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","Math","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInElastic","s","p","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","transforms","scale","style","value","reverse","transform","opacity","animate","ease","duration","complete","cancel","applyTransform","start","performance","now","repeat","elapsed","min","requestAnimationFrame","extend","dest","sources","src","k","getOriginFromClassList","classList","className","values","matches","match","replace","defaultOptions","openingAnimation","easing","closingAnimation","Popup","constructor","options","super","this","addTo","args","_map","_remove","wrapperContainer","_wrapperContainer","_cancelAnimation","parentNode","removeChild","remove","_container","_update","_lngLat","_trackPointer","_content","_requestDomTask","innerContainer","Object","defineProperty","configurable","get","set","container","document","createElement","position","willChange","pointerEvents","getContainer","appendChild","mapboxVersion","fn","call","transformOrigin"],"mappings":"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"}